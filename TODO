# To do list

## Wants

- maketv searches better for cinema paradiso
- make the app multi user, so they can create a user and have their own settings
- ask the vscode agent about authentication authorisation and user management
- Implement Robust, Per-Job Progress Tracking
  What: Replace global progress counters with a thread-safe, per-job progress tracker (e.g., using a map of job IDs to progress structs, protected by a mutex or using sync.Map). Expose this via an endpoint (e.g., /progress/{jobID}) for UI or API polling.
  Why: Enables accurate, concurrent progress reporting for multiple jobs/users, and is a best practice for web services.
Viability: High. This is a common pattern and will work well with the new concurrency model.
- Refactor HTTP Requests into a Generic, Robust Helper
  What: Create a reusable HTTP helper that handles retries, 500 errors, and rate limiting (429), and reuses a single http.Client instance.
  Why: Centralizes error handling, reduces code duplication, and improves reliability.
  Viability: High. This can be done incrementally and will benefit all network code.

## In Progress

## Features

## Bugs

- Wellington+Paranormal is not being found on cinema paradiso tv search
- vikings is bust, and it doesnt handle multi part series correctly, same with breaking bad

## Done

- Replace Manual Concurrency with sourcegraph/conc/iter
- split SearchResult into Domain-Specific Structs
- cinema paradiso tv search is really broken for all series
- investigate some albums coming back with a year of 0000 Arcade Fire, Guided by Voices,Weezer,Lambchop,Ã“lafur Arnalds,Nicholas Britell,Wilco,Crystal Castles,Daft Punk,Rob Hubbard,The Stranglers
- move the owned plex album year sorting into its own loop
- alanis morissette albums are not matching correctly, hyphens in the album name
- add sort by first album year to music search
- add sort by last album year to music search
- remove duplicate found from albums search results
- remove the new artist search, this was deprecated by spotify
- fix album matching, why is beta band albums not matching
- remove limitation of 5 years for music search
- fix sort on table with accordians
- use an accordian for the music search results, wanted compressed
- fix sort order for owned music albums
- use accordian on owned albums
- try using lithammer/fuzzysearch on album matching
- fix links on the tv page to a tv series to cinema paradiso. use a hx-post
- remove the dvds from the tv page
- add a link back to the index page on the tv page / movie page
- embed the tablesorter as a static file
- use a proper mux for the server
- use hx-boost
- fix the progress bar on the tv page
- add amazon search for tv series
- plex music lookup
- add a search provider mechanism for artists/albums
- add ui for music search
- spotify search
- bastille is showing "give me the future" as an album. wrong !!
- remove dead fields from the tv data types
- remove links to tv series we already have in plex. eg dont show adventure time series 1 and 2 ?
- write a function to calculate plex dates
- similar artist search for music
- parallel requests for spotify search
- update movies, remove the plex resolution filter add plex resolution as a column
- parallelise cinema-paradiso movie search 6m20 to 2m25
- parallelise cinema-paradiso tv search
- for movies/tc dont refresh plex list every time, unless necessary
- parallelise amazon search tv/movie
- move newer show out of amazon and cinema-paradiso, move to web page
- move language filtering out of plex search, should only happen in web tv & movie web pages
- allow setting of amazon region in settings
- allow setting of musicbrainz url in settings
- speed up plex fetch of movie details
- speed up plex fetch of tv shows
- when scraping movies, do we stop at the first best match ?
- new release for cinema-paradiso tv
- new release for amazon tv series
- allow amazon tv search for indivdual series
- improve best match for tv series
- vikings, Once Upon a Time in Wonderland, What We Do in the Shadows, The Peter Serafinowicz Show  is not showing up on cinema-paradiso tv search
- allow the use of playlists for finding music / TV / movies `https://www.plexopedia.com/plex-media-server/api/playlists/view/`
- make language a pull down menu tv / movies page
- plex audio types not showing for plex movie playlists
